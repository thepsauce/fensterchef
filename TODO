[Tasks]
#71 Make generic menu item chooser
    Abstract parts of the window list away to make more choose menus like an
    application launcher

#74 Add caching of window stack
    Stack changes should be only locally noticed and then sent at once to the X
    server to allow more tolerance in scripts (expected to improve performance)

#80 Add the dialog window mode
    Add a window mode for dialog windows

#83 Add dynamic bindings
    Add binding actions that dynamicall add bindings.  The bindings should be
    synchronized with the server by sending a delta of old and new bindings.

#84 Give each window its own individual settings
    Each window should have its own settings for border and gaps.  Actions have
    to be made that set these individual settings.  Whether a setting is
    individual or not has to be stored within the window.

#89 Improve focus management
    Move focus X11 management into x11_synchronize (out of event.c).

#90 ...

#200 Make repository for fensterchef-menu
    Menus of all kind for any window manager

#300 Make repository for fensterchef-notify
    Notification daemon for notify-send usable in any window manager

#400 Make repository for fensterchef-window-list
    Window list usable in any window manager

#1000 Make a wayland port
    Make an additional repository that hosts fensterchef-wayland

[In Progress]
#14 Generate documentation
    Make shell scripts to generate the manual page

#85 Add sourcing to parser
    The source command needs to be added again to load other files

[Recheck]
#1 ! Hover events not working in firefox sometimes
    This is fixed by resizing the window, try to find out why it happens in the
    first place and when it happens. Seems to be fixed

#13 ! Unable to reload configuration after an error
    When reloading the configuration and an error was detected the bind for
    reloading no longer works. It works on an initial load if the parser fails

#37 ? Add hooks
    When certain events occur like showing a window, the user should be able to
    make a hook for an alternative action that should occur (instead of the
    default of focusing this window)
    This is implemented but only for mapping windows for the first time

#39 ? Add the set action that can set a variable
    The set action would have the syntax `set <section>.<name> = <value>` and
    dynamically reload the part of the configuration that is relevant

#43 ? Make perfect focus management
    Make it so the focus can not be broken by focus_thief.
    Make a proper design in your head how focus can be managed. The difficulty
    is that override redirect windows can have focus.

#45 ! Fix weird flicker of Steam window
    Steam flickers back and forth (once) when hovering over a menu item

#59 ? Make it run more than startup actions using external command
    Right now using -e, only actions can be sent. Make it so entire
    configurations can be sent. This is helpful when setting a specific layout

#63 ? Replace deletion of atom with setting of another
    When a command is sent via the FENSTERCHEF_COMMAND atom, it is currently
    deleted. Instead, set FENSTERCHEF_RETURN on the window.

#25 ? Make string arguments more shell like
    One should be able to specify in quotes: "what is here ".
    So if a line starts with `"`, then this should be interpreted as string.
    Also this can be escaped as well as ';' with a backslash.

#7 ! Discord hides itself again on WM_CHANGE_STATE
    When starting Discord, it sometimes hides itself again
    Try to check electron source code I guess... I do not know if it was made
    using electron actually. Is this on purpose?? I believe it is.
    Using WM_STATE I believe fixed this bug.  This causes a bug with stacking
    orders.

[Trash]
#10 ? Add frame indication for empty frames
    Make it so empty frames have a border indicating focus

#20/#10 ? Make extra window for empty frames
    ?? Extra translucent border windows have to be shown

#34 ? Think about how numbers should be handled when stashing
    What does this task even mean

#24 ! Monitor frames wrong when screen size changes
    Exactly in what circumstances this bug appears is not known but running
    randfix.sh gets a window in a bugged state, this might have to do with
    stashing away frames. randfix.sh looks like:
    ```
    #!/bin/bash

    MON1=HDMI-A-0
    MON2=DVI-D-1

    xrandr --output $MON1 --off
    xrandr --output $MON2 --off
    xrandr --output $MON2 --auto
    xrandr --output $MON1 --auto
    xrandr --output $MON1 --right-of $MON2
    xrandr --output $MON1 --primary
    xrandr --output $MON1 --dpi 96
    xrandr --output $MON2 --dpi 96
    ```
    No window gets in a bugged state it seems anymore. This is just a poor
    script to reconfigure the monitors.

#64 Add variables to scripting
    Add two keywords local (local variable) and set (global variable).

#77 Allow multi-line for notification windows
    Line breaks should be considered and text wrapping should be used when the
    text overflows a maximum configured width

#78 Add XML based markup options
    Make text formatting with options for bold <b> ... </b>,
    italic <i> ... </i>, underline <u> ... </u>,
    hyperlinks <a href="..."> ... </a> and
    images <img src="..." alt="..."/>

#79 Add DBUS support for a notification server
    Allow fensterchef to act as a notification server so notifications can be
    shown using `notify-send`

#81 Simplify notification windows again
    ...or completely remove them.  It is a bunch of code for nothing.  Programs
    like dunst do a great job at this.  The best solution is probably to
    downgrade to core fonts so that the absolute minimal text is shown.  The
    user can then configure to use more advanced programs.
    This is a bad idea for various reasons.

#70 Re-add the wiki
    Add the Github wiki again

[Done]
#9 Add maintainability macros
    Add macros that highly improve the maintainability

#12 ! Fullscreen window does not get out of fullscreen
    Fullscreen windows can not be put out of fullscreen when they are
    initially in such state

#3 Equalize action
    Make an action that equalizes all frames within the selected frame

#6 ! Issues when clicking to focus with --transparent
    Some applications (like firefox or CS2) have an unexpected behaviour
    together with such a mouse bind

#16 Consider what windows receive input focus and initial state
    Read the book and check what windows should receive input and consider the
    initial state

#17 Center floating windows and ignore their position size hints
    Pretty much what the title says

#11 Add inactive border
    When a floating window is focused, the frame that lost focus should get a
    different color indicating it is the currently focused frame

#19 Show current frame indicator options
    Now the current frame indicator is shown more sensibly

#21 Add desktop window mode
    This window is always in the background

#22 ! Window does not get focus
    Windows with he WM_TAKE_FOCUS protocol should fuck right off because they do
    not even take focus, the input flag needs to be considered here instead

#23 ! Windows not supposed to have a border get a border upon configuration reload
    Exactly the title

#26 Add optional arguments
    Let some actions have optional arguments. If they expect an integer and no
    number is given, the number `1` should be implied.

#2 Ratio for frames
    Add a ratio to a frame so that the sizes are resistent to when they become
    very tiny. Use this to automatically resize back when clearing child

#27 ! Make focus checking more sensible
    Make checking if a window is focusable or not more sensible

#15 Add auto split option
    Add an option in the configuration so that when a new window spawns, the
    current frame is split automatically

#28 ! Old focus is set to pointer
    These pointers might be freed and reallocated. The address may not change so
    the program does not know if any pointer changed
    Solution 1: Reference count
    Solution 2 (better I think): Set the old focus to NULL when these objects
    are freed

#29 ! Errors are shown after window is destroyed
    When a window is destroyed, sometimes errors are thrown by xcb that should
    be addressed.
    This will not be fixed because it is effort for pretty much no return.

#5 Add frame numbers and assignment
    Frames should be able to hold onto specific windows. When these specific
    windows are hidden and then shown again, they should reappear in the same
    place, this could also be used to make initial layouts, maybe like:
    ```
    [startup]
    split-horizontally
    assign 1
    focus-right
    assign 2
    run st -n 1
    run firefox

    [assignment]
    first-window-number 1000
    1 1 ; st-256color
    2 [Nn]avigator ; [Ff]irefox
    999 * ; [Dd]iscord

    # And a bind to open discord on the current frame (even when moving away):
    [keyboard]
    Super+1 focus-frame 999

    Super+d assign 999 ; run discord
    ```

#32 Make additional action for hinting split direction
    It was not a good idea to change the split action, revert the change!!
    And then make an additional action for hinting.

#31 ! Floating window toggle not removing void if configured
    When auto-remove-void is configured, then making a window floating should
    remove the gap it leaves, similar for auto-remove

#33 ! Exchange into empty frame
    When exchanging into an empty frame, it feels unnatural when some
    configuration options are turned on

#30 Find a better monitor to center floating windows
    Right now the existing geometry of the window is used to determine the
    monitor to center the window in. Use the focus_frame/focus_window

#35 ! Fix auto equalization of frames
    Too many frames are equalized when auto-equalize is enable. It needs to move
    up to the correct parent frame and not to the root!

#4 Add cursor management and resource management
    Handle the setting of the cursor and manage X resources

#36 Add way to inject commmands
    Do it how ratpoison does it which is quite sensible: Create a window with
    the FENSTERCHEF_COMMAND property which contains a list of actions to execute

#38 Add keycodes to binds
    When a number is used instead of a word starting with a letter for a key
    symbol, interpret it as a keycode

#40 Add parser include command
    There should be an identifier usable in any label that includes another
    configuration file

#41 Add actions to assignments
    Add actions to the end of assignments that are executed when a window
    receives the window number

#42 Better position for floating windows/dock windows
    When two dock windows appear on the same edge, they currently overlap.
    Improve this. And then two floating windows spawn, they are completely
    covering each over. Add an offset like Windows. Maybe add a configurable
    option for how large floating windows should be?

#44 Handle the add of _NET_WM_STATE_MAXIMIZED_HORZ
    The steam window uses this to maximize itself.

#48 Add move actions
    Add actions to move windows

#46 Add "other" action
    This action should pop a frame from the space and replace it with the
    current frame

#47 Add left/top split actions
    These actions should split like usually but in the other direction

#53 ! Numbers assigned wrongly
    When there are no assignments, windows are not number starting from the
    configured first-window-number

#49 Make refocus more natural when a window is hidden
    When a non tiling window is hidden, the focus may move to a different
    monitor which is unnatural

#52 ! Let more frames tank size
    When resizing a frame, let it push frames

#54 Handle overlapping monitors
    When monitors overlap, one should be ignored

#55 Add center-to action
    This action should center a window to a specific monitor by name (glob
    pattern)

#56 Add resize-to action
    This action should set the size and position of a window relative to the
    monitor it is on

#60 Add core fonts
    Use core fonts as a fallback font

#61 Add reference counts to window and frame
    This will allow to clean up a lot of code

#50 ! The default of pressing MiddleButton to close a window
    When doing this, the below window gets the event as well

#62 ! Window mapping again not raised
    When a window is shown through a map request for the second time and
    focused, it is not raised

#57 Make higher scripting capabilities
    Actions already return true or false, I made this for the future. This is an
    example of an advanced fensterchef configuration:
    ```
    [assignment]
    1000 toggling ; st-256color ; toggle-tiling

    [startup]
    run st -n toggling

    [keyboard]
    z focus-window 1000 && (
       center-to *
       resize-to 0 0 800 600
    ) || minimize-window 1000
    ```
    This puts a terminal window in the background whose visibility can be
    toggled by pressing Z. When showing the window, it is sized to 2/5 of the
    monitors area.
    So expressions would need to be added which replaces the action lists.

#58 Add dumping of a frame layout
    This should dump a layout to a file, maybe it should be a fensterchef
    configuration file that one can include

#65 ! Fix infinite recursion when a modal dialog is raised
    When I opened a dialog window that is modal to firefox, put it to tiling
    and then focused firefox, fensterchef stopped working

#67 ! GVim is not rendering properly
    If GVim is spawned, it does not render properly, it is just black.
    Resizing windows however fixes the issue.
    Solution: Send a fake configure notify event to the window so that it stays
    in a valid state

#8 Improve font rendering once again
    Is there any way to make colored emojis work? Is artifical scaling needed?
    Solution: Use libXft

#51/#8 ! Fix fixed size fonts messing up
    Fixed size fonts like emoji fonts are not scaled and it looks very weird.
    Solution: Use libXft

#68 Integrate libX11
    libX11 should be integrated to replace the poorly implemented xcb libraries,
    there were not really meant for use it seems like.
    Completely replace libxcb with libX11, it is not good for a window manager.

#75 Do not check if we are on a different monitor now
    For re-showing floating windows, show them were there were, even when on
    another monitor. Only re-show them if they are out of bounds

#66 Always focus window above frames
    When a frame is focused and there is a window covering the monitor the frame
    is on, that window should be focused.

#18 ! No window in focus after toggling fullscreen
    When putting a window out of fullscreen and put into the focus frame, in
    some circumstances it can happen that no window has focus now.
    Solution: Use `set_focus_window()` instead of `set_focus_frame()`.

#76 Make advanced notification windows
    Allow more notification windows to be visible at the same time and
    allow them to be individually configurable

#72 Refactor configuration parser
    Make the design easier to understand and clean up the code in
    parse_expression().
    Also use two configuration structures:
    One for the actual configuration, another one for the configuration being
    parsed.
    I decided to remove all new scripting stuff, it is not necessary at all.
    If people want to extend the behavior, they should write C code.

#69 Simplify README
    Shorten the README to only contain the must important information, move the
    extended information to the website and Github Wiki

#82 Add default configuration
    Currently the default configuration is not loaded, add it again

#86 Handle percent and pixel values
    Add the special needing for the percent and pixel values can that be used in
    the configuration

#73 Make a CONTRIBUTING file
    Make a file explaining source code internals and where to start looking to
    start contributing to the fensterchef project

#87 Resolve modifier actions at the right time
    The modifier action is resolved at the wrong time.  The parser has to
    interleave actions being executed with bindings being set.

#88 Make a binding map
    Not sure why does never came into my head.  But simple make a 256 sized
    array to store the keybindings and 16 sized array for buttons.
    Make two, one that is the server state and another that is the local state.
    On the next cycle, this should be synchronized with the server.
    Move server synchronization out of event.c into its own file.
    Maybe merge this with window properties.
    I decided not to make two lists and simply update all if anything changed.
